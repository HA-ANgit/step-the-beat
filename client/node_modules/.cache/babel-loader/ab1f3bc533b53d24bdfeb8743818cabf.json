{"ast":null,"code":"var _jsxFileName = \"/Users/hannespro/Documents/Pro/step-the-beat/src/Drum_Machine.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from \"react\";\nimport Metronome from \"./Metronome\";\nimport Kick1 from './808_kit/Kick.wav';\nimport Snare1 from './808_kit/Clap.wav';\nimport Clap1 from './808_kit/Snare.wav';\nimport HHC1 from './808_kit/HH_Closed.wav';\nimport HHO1 from './808_kit/HH_Open.wav';\nimport Perc1 from './808_kit/Perc.wav';\nimport Kick2 from './Pop_kit/Kick.wav';\nimport Snare2 from './Pop_kit/Clap.wav';\nimport Clap2 from './Pop_kit/Snare.wav';\nimport HHC2 from './Pop_kit/HH_Closed.wav';\nimport HHO2 from './Pop_kit/HH_Open.wav';\nimport Perc2 from './Pop_kit/Perc.wav';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst kit808 = [{\n  keyCode: 81,\n  key: 'Q',\n  id: '808-BD',\n  url: Kick1\n}, {\n  keyCode: 87,\n  key: 'W',\n  id: '808-SN',\n  url: Snare1\n}, {\n  keyCode: 69,\n  key: 'E',\n  id: '808-CL',\n  url: Clap1\n}, {\n  keyCode: 65,\n  key: 'A',\n  id: '808-HHC',\n  url: HHC1\n}, {\n  keyCode: 83,\n  key: 'S',\n  id: '808-HHO',\n  url: HHO1\n}, {\n  keyCode: 68,\n  key: 'D',\n  id: '808-PRC',\n  url: Perc1\n}];\nconst popKit = [{\n  keyCode: 81,\n  key: 'Q',\n  id: 'Pop-BD',\n  url: Kick2\n}, {\n  keyCode: 87,\n  key: 'W',\n  id: 'Pop-SN',\n  url: Snare2\n}, {\n  keyCode: 69,\n  key: 'E',\n  id: 'Pop-CL',\n  url: Clap2\n}, {\n  keyCode: 65,\n  key: 'A',\n  id: 'Pop-HHC',\n  url: HHC2\n}, {\n  keyCode: 83,\n  key: 'S',\n  id: 'Pop-HHO',\n  url: HHO2\n}, {\n  keyCode: 68,\n  key: 'D',\n  id: 'Pop-PRC',\n  url: Perc2\n}];\nconst soundsName = {\n  kit1: \"808 Kit\",\n  kit2: \"Pop Kit\"\n};\nconst soundsGroup = {\n  kit1: kit808,\n  kit2: popKit\n};\n\nconst Triggers = _ref => {\n  _s();\n\n  let {\n    play,\n    deactivateAudio,\n    sample: {\n      id,\n      key,\n      url,\n      keyCode\n    }\n  } = _ref;\n\n  const handleKeydown = event => {\n    if (keyCode === event.keyCode) {\n      const audio = document.getElementById(key);\n      play(key, id);\n      deactivateAudio(audio);\n    }\n  };\n\n  React.useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeydown);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    value: \"test\",\n    id: keyCode,\n    className: \"drum-pad\",\n    onClick: () => play(key, id),\n    children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n      className: \"clip\",\n      id: key,\n      src: url\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this), key]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Triggers, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Triggers;\n\nconst Keyboard = _ref2 => {\n  let {\n    play,\n    kits,\n    power,\n    deactivateAudio\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"keyboard\",\n    children: power ? kits.map(sample => /*#__PURE__*/_jsxDEV(Triggers, {\n      sample: sample,\n      play: play,\n      deactivateAudio: deactivateAudio\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 30\n    }, this)) : kits.map(sample => /*#__PURE__*/_jsxDEV(Triggers, {\n      sample: { ...sample,\n        url: \"#\"\n      },\n      play: play,\n      deactivateAudio: deactivateAudio\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 30\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = Keyboard;\n\nconst DrumController = _ref3 => {\n  let {\n    stop,\n    name,\n    power,\n    volume,\n    handleVolumeChange,\n    changeKit\n  } = _ref3;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"controller\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: stop,\n      children: [\"Turn Power \", power ? 'OFF' : 'ON']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Volume: %\", Math.round(volume * 100)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      max: \"1\",\n      min: \"0\",\n      step: \"0.01\",\n      type: \"range\",\n      value: volume,\n      onChange: handleVolumeChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      id: \"display\",\n      children: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: changeKit,\n      children: \"Change Sounds Group\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n};\n\n_c3 = DrumController;\n\nconst Drum_Machine = () => {\n  _s2();\n\n  const [power, setPower] = React.useState(true);\n  const [volume, setVolume] = React.useState(1);\n  const [soundType, setSoundType] = React.useState(\"kit1\"); //Detta är vårt startkit\n\n  const [soundName, setSoundName] = React.useState(\"\");\n  const [kits, setKit] = React.useState(soundsGroup[soundType]);\n\n  const deactivateAudio = audio => {\n    setTimeout(() => {\n      audio.parentElement.style.backgroundColor = \"#ffffff\";\n      audio.parentElement.style.color = \"#000000\";\n    }, 300);\n  };\n\n  const play = (key, sample) => {\n    setSoundName(sample);\n    const audio = document.getElementById(key);\n    audio.currentTime = 0;\n    audio.play();\n    deactivateAudio(audio);\n  };\n\n  const stop = () => {\n    setPower(!power);\n  };\n\n  const changeKit = () => {\n    setSoundName(\"\");\n\n    if (soundType === \"kit1\") {\n      setSoundType(\"kit2\");\n      console.log(\"Changing to Pop-Kit\");\n      setKit(soundsGroup.kit2);\n    } else {\n      setSoundType(\"kit1\");\n      console.log(\"Changing to 808-Kit\");\n      setKit(soundsGroup.kit1);\n    }\n  };\n\n  const handleVolumeChange = event => {\n    setVolume(event.target.value);\n  };\n\n  const setKeyVolume = () => {\n    const audioes = kits.map(sample => document.getElementById(sample.key)); //Problem där \"kits\"-variabeln inte vill vara dynamisk, just nu hårdkodar jag in kit808 eller PopKit för att byta ljud\n\n    audioes.forEach(audio => {\n      if (audio) {\n        audio.volume = volume;\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"drum_machine\",\n    children: [setKeyVolume(), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(Keyboard, {\n        play: play,\n        kits: kits,\n        power: power,\n        deactivateAudio: deactivateAudio //Problem där \"kits\"-variabeln inte vill vara dynamisk, just nu hårdkodar jag in kit808 eller PopKit för att byta ljud\n\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DrumController, {\n        stop: stop,\n        power: power,\n        volume: volume,\n        handleVolumeChange: handleVolumeChange,\n        changeKit: changeKit,\n        name: soundName || soundsName[soundType]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Metronome, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(Drum_Machine, \"oPxZ+Zukh43KyaZ9TV+HI9eyDmE=\");\n\n_c4 = Drum_Machine;\nexport default Drum_Machine;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Triggers\");\n$RefreshReg$(_c2, \"Keyboard\");\n$RefreshReg$(_c3, \"DrumController\");\n$RefreshReg$(_c4, \"Drum_Machine\");","map":{"version":3,"sources":["/Users/hannespro/Documents/Pro/step-the-beat/src/Drum_Machine.js"],"names":["React","Metronome","Kick1","Snare1","Clap1","HHC1","HHO1","Perc1","Kick2","Snare2","Clap2","HHC2","HHO2","Perc2","kit808","keyCode","key","id","url","popKit","soundsName","kit1","kit2","soundsGroup","Triggers","play","deactivateAudio","sample","handleKeydown","event","audio","document","getElementById","useEffect","addEventListener","Keyboard","kits","power","map","DrumController","stop","name","volume","handleVolumeChange","changeKit","Math","round","Drum_Machine","setPower","useState","setVolume","soundType","setSoundType","soundName","setSoundName","setKit","setTimeout","parentElement","style","backgroundColor","color","currentTime","console","log","target","value","setKeyVolume","audioes","forEach"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Metronome from \"./Metronome\";\n\nimport Kick1 from './808_kit/Kick.wav';\nimport Snare1 from './808_kit/Clap.wav';\nimport Clap1 from './808_kit/Snare.wav';\nimport HHC1 from './808_kit/HH_Closed.wav';\nimport HHO1 from './808_kit/HH_Open.wav';\nimport Perc1 from './808_kit/Perc.wav';\nimport Kick2 from './Pop_kit/Kick.wav';\nimport Snare2 from './Pop_kit/Clap.wav';\nimport Clap2 from './Pop_kit/Snare.wav';\nimport HHC2 from './Pop_kit/HH_Closed.wav';\nimport HHO2 from './Pop_kit/HH_Open.wav';\nimport Perc2 from './Pop_kit/Perc.wav';\n\n\nconst kit808 = [\n    {\n        keyCode: 81,\n        key: 'Q',\n        id: '808-BD',\n        url: Kick1\n    },\n    {\n        keyCode: 87,\n        key: 'W',\n        id: '808-SN',\n        url: Snare1\n    },\n    {\n        keyCode: 69,\n        key: 'E',\n        id: '808-CL',\n        url: Clap1\n    },\n    {\n        keyCode: 65,\n        key: 'A',\n        id: '808-HHC',\n        url: HHC1\n    },\n    {\n        keyCode: 83,\n        key: 'S',\n        id: '808-HHO',\n        url: HHO1\n    },\n    {\n        keyCode: 68,\n        key: 'D',\n        id: '808-PRC',\n        url: Perc1\n    }\n];\n\nconst popKit = [\n    {\n        keyCode: 81,\n        key: 'Q',\n        id: 'Pop-BD',\n        url: Kick2\n    },\n    {\n        keyCode: 87,\n        key: 'W',\n        id: 'Pop-SN',\n        url: Snare2\n    },\n    {\n        keyCode: 69,\n        key: 'E',\n        id: 'Pop-CL',\n        url: Clap2\n    },\n    {\n        keyCode: 65,\n        key: 'A',\n        id: 'Pop-HHC',\n        url: HHC2\n    },\n    {\n        keyCode: 83,\n        key: 'S',\n        id: 'Pop-HHO',\n        url: HHO2\n    },\n    {\n        keyCode: 68,\n        key: 'D',\n        id: 'Pop-PRC',\n        url: Perc2\n    }\n];\n\nconst soundsName = {\n    kit1: \"808 Kit\",\n    kit2: \"Pop Kit\"\n};\n\nconst soundsGroup = {\n    kit1: kit808,\n    kit2: popKit\n}\n\nconst Triggers = ({ play, deactivateAudio, sample: { id, key, url, keyCode } }) => {\n\n    const handleKeydown = (event) => {\n        if(keyCode === event.keyCode){\n            const audio = document.getElementById(key);\n            play(key, id);\n            deactivateAudio(audio)\n        }\n    }\n\n    React.useEffect(() => {\n        document.addEventListener(\"keydown\", handleKeydown)\n    }, [])\n\n    return (\n        <button value=\"test\" id={keyCode} className=\"drum-pad\" onClick={() => play(key, id)}> \n            <audio className=\"clip\" id={key} src={url} />\n            {key}\n        </button>\n    );\n}\n \nconst Keyboard = ({ play, kits, power, deactivateAudio }) => (\n    <div className=\"keyboard\">\n    {power \n      ? kits.map((sample) => <Triggers sample={sample} play={play} deactivateAudio={deactivateAudio} />)\n      : kits.map((sample) => <Triggers sample={{...sample, url: \"#\" }} play={play} deactivateAudio={deactivateAudio} />)        \n    }\n  </div>\n);\n\nconst DrumController = ({ stop, name, power, volume, handleVolumeChange, changeKit }) => (\n    <div className=\"controller\">\n      <button onClick={stop}>Turn Power {power ? 'OFF' : 'ON'}</button>\n      <h2>Volume: %{Math.round(volume * 100)}</h2>\n      <input\n        max=\"1\"\n        min=\"0\"\n        step='0.01'\n        type=\"range\"\n        value={volume}\n        onChange={handleVolumeChange}\n        />\n      <h2 id=\"display\" >{name}</h2>\n      <button onClick={changeKit}>Change Sounds Group</button>\n    </div>\n  );\n  \nconst Drum_Machine = () => {\n    const [power, setPower] = React.useState(true);\n    const [volume, setVolume] = React.useState(1);\n    const [soundType, setSoundType] = React.useState(\"kit1\"); //Detta är vårt startkit\n    const [soundName, setSoundName] = React.useState(\"\");\n    const [kits, setKit] = React.useState(soundsGroup[soundType]);\n\n    const deactivateAudio = (audio) => {\n        setTimeout(() => {\n          audio.parentElement.style.backgroundColor = \"#ffffff\"\n          audio.parentElement.style.color = \"#000000\"\n        }, 300)\n      }\n\n    const play = (key, sample) => {\n        setSoundName(sample)\n        const audio = document.getElementById(key)\n        audio.currentTime = 0;\n        audio.play()\n        deactivateAudio(audio)\n    }\n\n    const stop = () => {\n        setPower(!power)\n     }\n\n    const changeKit = () => {\n        setSoundName(\"\")\n        if(soundType === \"kit1\"){\n            setSoundType(\"kit2\")\n            console.log(\"Changing to Pop-Kit\")\n            setKit(soundsGroup.kit2)\n        } else {\n            setSoundType(\"kit1\")\n            console.log(\"Changing to 808-Kit\")\n            setKit(soundsGroup.kit1)\n        }\n    }\n\n    const handleVolumeChange = event => {\n        setVolume(event.target.value)\n    }\n\n    const setKeyVolume = () => {\n        const audioes = kits.map(sample => document.getElementById(sample.key)); //Problem där \"kits\"-variabeln inte vill vara dynamisk, just nu hårdkodar jag in kit808 eller PopKit för att byta ljud\n        audioes.forEach(audio => {\n          if(audio) {\n            audio.volume = volume;\n          }\n        }) \n      }\n\n    return (\n        <div id=\"drum_machine\"> \n            {setKeyVolume()}\n            <div className=\"wrapper\">\n                <Keyboard play={play} kits={kits} power={power} deactivateAudio={deactivateAudio} //Problem där \"kits\"-variabeln inte vill vara dynamisk, just nu hårdkodar jag in kit808 eller PopKit för att byta ljud\n/> \n                <DrumController \n                stop={stop}\n                power={power}\n                volume={volume}\n                handleVolumeChange={handleVolumeChange} \n                changeKit={changeKit} \n                name={soundName || soundsName[soundType]} />\n            </div>\n            <Metronome/>\n        </div>\n  )\n};\n\nexport default Drum_Machine;"]},"metadata":{},"sourceType":"module"}